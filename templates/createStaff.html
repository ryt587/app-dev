{% extends "staff.html" %}
{% block content %}
{% from "includes/_formHelper.html" import render_field %}
{% if error %}
        <p class=error><strong>Error:</strong> {{ error }}
      {% endif %}
		<div class="container center">
	<div class="container pt-3 my-3 bg-white border">
<form style="padding-bottom: 10px;" method="post" enctype="multipart/form-data">
	  <div class="form-row">
    <div class="form-group col-md-6">
      <label for="inputfirstname">First Name</label>
        {{ render_field(form.first_name, class="form-control") }}
    </div>
    <div class="form-group col-md-6">
      <label for="inputlastname">Last Name</label>
      {{ render_field(form.last_name, class="form-control") }}
    </div>
  </div>
<div class="form-row">
    <div class="form-group col-md-12">
      <label for="inputEmail4">Email</label>
      {{ render_field(form.email, class="form-control") }}
    </div>
	</div>
  <div class="form-row">
    <div class="form-group col-md-6">
      <label for="inputPassword4">Password</label>
      {{ render_field(form.password, class="form-control") }}
    </div>
	  <div class="form-group col-md-6">
      <label for="confirm">Confirm Password</label>
      {{ render_field(form.confirm, class="form-control") }}
    </div>
  </div>
  <div class="form-row">
    <div class="form-group col-md-6">
      <label for="inputRole">Staff Role</label>
      {{ render_field(form.role, class="form-control") }}
		</select>
    </div>
    <div class="form-group col-md-6">
      <label for="inputPhoneNumber">Phone Number</label>
      {{ render_field(form.phone, class="form-control", id="phone") }}
    </div>
  </div>
  <button type="submit" class="btn btn-danger">Create</button><br>
</form>
		</div>
		</div>
    {% block scripts %}
    <script>
        var wtf_phone_field = document.getElementById('phone');
        wtf_phone_field.style.position = 'absolute';
        wtf_phone_field.style.top = '-9999px';
        wtf_phone_field.style.left = '-9999px';
        wtf_phone_field.parentElement.insertAdjacentHTML('beforeend', '<div><input type="tel" id="_phone"></div>');
        var fancy_phone_field = document.getElementById('_phone');
        var fancy_phone_iti = window.intlTelInput(fancy_phone_field, {
            separateDialCode: true,
            utilsScript: "https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/16.0.4/js/utils.js",
        });
        fancy_phone_iti.setNumber(wtf_phone_field.value);
        fancy_phone_field.addEventListener('blur', function() {
            wtf_phone_field.value = fancy_phone_iti.getNumber();
        });
    </script>
    {% endblock %}
	
	
{% endblock %}